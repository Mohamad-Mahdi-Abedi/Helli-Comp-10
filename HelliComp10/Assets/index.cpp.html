<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Monaco Editor - C++</title>
<style>
  html, body { margin:0; padding:0; height:100%; width:100%; overflow:hidden; font-family:sans-serif;}
  #container { width:100%; height:100%;}
</style>
<script src="file:///C:/Temp/monaco-temp/node_modules/monaco-editor/min/vs/loader.js"></script>
<script>
require.config({ paths: { vs: 'file:///C:/Temp/monaco-temp/node_modules/monaco-editor/min/vs' } });

require(['vs/editor/editor.main'], function() {
  // تعریف Theme رسمی Dark+
  monaco.editor.defineTheme('dark-plus-custom', {
    base: 'vs-dark',
    inherit: true,
    rules: [
      { token: 'keyword', foreground: '569CD6' },
      { token: 'type', foreground: '4EC9B0' },
      { token: 'function', foreground: 'DCDCAA' },
      { token: 'string', foreground: 'CE9178' },
      { token: 'number', foreground: 'B5CEA8' },
      { token: 'comment', foreground: '6A9955' },
      { token: 'variable', foreground: 'D4D4D4' },
      { token: 'constant', foreground: '569CD6' },
      { token: 'annotation', foreground: 'C586C0' },
    ],
    colors: {
      'editor.foreground': '#D4D4D4',
      'editor.background': '#1E1E1E'
    }
  });

  // نمونه کد C++
  const sample = `#include <iostream>
using namespace std;

class Person {
public:
    string name;
    Person(string n) { name = n; }
    void say_hello() { cout << "Hello, " << name << endl; }
};

int main() {
    Person p("World");
    p.say_hello();
    return 0;
}`;

  // ساخت ادیتور
  let editor = monaco.editor.create(document.getElementById('container'), {
    value: sample,
    language: 'cpp',
    theme: 'dark-plus-custom',
    automaticLayout: true
  });

  // Autocomplete ساده C++
  monaco.languages.registerCompletionItemProvider('cpp', {
    provideCompletionItems: () => {
      return {
        suggestions: [
          { label:'cout', kind:monaco.languages.CompletionItemKind.Variable, insertText:'cout' },
          { label:'cin', kind:monaco.languages.CompletionItemKind.Variable, insertText:'cin' },
          { label:'return', kind:monaco.languages.CompletionItemKind.Keyword, insertText:'return ' },
          { label:'class', kind:monaco.languages.CompletionItemKind.Keyword, insertText:'class ' },
        ]
      };
    }
  });
});
</script>
</head>
<body>
  <div id="container"></div>
</body>
</html>