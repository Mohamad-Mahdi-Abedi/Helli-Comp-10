<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Monaco Editor - Python</title>
<style>
  html, body { margin:0; padding:0; height:100%; width:100%; overflow:hidden; font-family:sans-serif;}
  #container { width:100%; height:100%;}
</style>
<script src="file:///C:/Temp/monaco-temp/node_modules/monaco-editor/min/vs/loader.js"></script>
<script>
require.config({ paths: { vs: 'file:///C:/Temp/monaco-temp/node_modules/monaco-editor/min/vs' } });

require(['vs/editor/editor.main'], function() {
  // تعریف Theme سفارشی با رنگ‌های جدید
  monaco.editor.defineTheme('dark-plus-custom', {
    base: 'vs-dark',
    inherit: true,
    rules: [
      { token: 'keyword', foreground: 'FF79C6' }, // صورتی روشن برای کلمات کلیدی
      { token: 'type', foreground: '8BE9FD' }, // فیروزه‌ای برای انواع
      { token: 'function', foreground: 'F1FA8C' }, // زرد روشن برای توابع
      { token: 'string', foreground: 'FFB86C' }, // نارنجی گرم برای رشته‌ها
      { token: 'number', foreground: 'BD93F9' }, // بنفش روشن برای اعداد
      { token: 'comment', foreground: '6272A4' }, // خاکستری آبی برای نظرات
      { token: 'variable', foreground: 'F8F8F2' }, // سفید روشن برای متغیرها
      { token: 'constant', foreground: 'FF79C6' }, // صورتی روشن برای ثابت‌ها
      { token: 'annotation', foreground: 'FF5555' }, // قرمز روشن برای حاشیه‌نویسی
    ],
    colors: {
      'editor.foreground': '#F8F8F2', // رنگ متن پیش‌فرض سفید روشن
      'editor.background': '#282A36' // پس‌زمینه تیره‌تر (Dracula-inspired)
    }
  });

  // نمونه کد پایتون
  const sample = `class Person:
    def __init__(self, name: str):
        self.name = name

    def say_hello(self):
        print(f"Hello, {self.name}!")

p = Person("World")
p.say_hello()`;

  // ساخت ادیتور
  let editor = monaco.editor.create(document.getElementById('container'), {
    value: sample,
    language: 'python',
    theme: 'dark-plus-custom',
    automaticLayout: true
  });

  // Autocomplete پیشرفته برای پایتون
  monaco.languages.registerCompletionItemProvider('python', {
    provideCompletionItems: () => {
      return {
        suggestions: [
          // کلمات کلیدی پایتون
          { label: 'def', kind: monaco.languages.CompletionItemKind.Keyword, insertText: 'def ${1:name}(${2:params}):\n    ${3:pass}', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Define a function' },
          { label: 'class', kind: monaco.languages.CompletionItemKind.Keyword, insertText: 'class ${1:name}:\n    ${2:pass}', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Define a class' },
          { label: 'if', kind: monaco.languages.CompletionItemKind.Keyword, insertText: 'if ${1:condition}:\n    ${2:pass}', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'If statement' },
          { label: 'elif', kind: monaco.languages.CompletionItemKind.Keyword, insertText: 'elif ${1:condition}:\n    ${2:pass}', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Else if statement' },
          { label: 'else', kind: monaco.languages.CompletionItemKind.Keyword, insertText: 'else:\n    ${1:pass}', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Else statement' },
          { label: 'for', kind: monaco.languages.CompletionItemKind.Keyword, insertText: 'for ${1:item} in ${2:iterable}:\n    ${3:pass}', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'For loop' },
          { label: 'while', kind: monaco.languages.CompletionItemKind.Keyword, insertText: 'while ${1:condition}:\n    ${2:pass}', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'While loop' },
          { label: 'try', kind: monaco.languages.CompletionItemKind.Keyword, insertText: 'try:\n    ${1:pass}\nexcept ${2:Exception} as ${3:e}:\n    ${4:pass}', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Try-except block' },
          { label: 'except', kind: monaco.languages.CompletionItemKind.Keyword, insertText: 'except ${1:Exception} as ${2:e}:\n    ${3:pass}', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Except block' },
          { label: 'with', kind: monaco.languages.CompletionItemKind.Keyword, insertText: 'with ${1:expression} as ${2:target}:\n    ${3:pass}', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'With statement' },
          { label: 'import', kind: monaco.languages.CompletionItemKind.Keyword, insertText: 'import ${1:module}', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Import a module' },
          { label: 'from', kind: monaco.languages.CompletionItemKind.Keyword, insertText: 'from ${1:module} import ${2:name}', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Import specific items from a module' },
          { label: 'return', kind: monaco.languages.CompletionItemKind.Keyword, insertText: 'return ${1:value}', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Return statement' },
          { label: 'self', kind: monaco.languages.CompletionItemKind.Keyword, insertText: 'self', documentation: 'Reference to the current instance' },

          // توابع داخلی پایتون
          { label: 'print', kind: monaco.languages.CompletionItemKind.Function, insertText: 'print(${1:value})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Print to console' },
          { label: 'len', kind: monaco.languages.CompletionItemKind.Function, insertText: 'len(${1:obj})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Return the length of an object' },
          { label: 'range', kind: monaco.languages.CompletionItemKind.Function, insertText: 'range(${1:start}, ${2:stop})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Generate a sequence of numbers' },
          { label: 'input', kind: monaco.languages.CompletionItemKind.Function, insertText: 'input(${1:prompt})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Get user input' },
          { label: 'str', kind: monaco.languages.CompletionItemKind.Function, insertText: 'str(${1:obj})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Convert to string' },
          { label: 'int', kind: monaco.languages.CompletionItemKind.Function, insertText: 'int(${1:obj})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Convert to integer' },
          { label: 'float', kind: monaco.languages.CompletionItemKind.Function, insertText: 'float(${1:obj})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Convert to float' },
          { label: 'list', kind: monaco.languages.CompletionItemKind.Function, insertText: 'list(${1:iterable})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Create a list' },
          { label: 'dict', kind: monaco.languages.CompletionItemKind.Function, insertText: 'dict(${1:items})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Create a dictionary' },
          { label: 'set', kind: monaco.languages.CompletionItemKind.Function, insertText: 'set(${1:iterable})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Create a set' },
          { label: 'open', kind: monaco.languages.CompletionItemKind.Function, insertText: 'open(${1:file}, ${2:mode})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Open a file' },
          { label: 'max', kind: monaco.languages.CompletionItemKind.Function, insertText: 'max(${1:iterable})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Return the maximum value' },
          { label: 'min', kind: monaco.languages.CompletionItemKind.Function, insertText: 'min(${1:iterable})', insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet, documentation: 'Return the minimum value' },

          // ثابت‌های رایج
          { label: 'True', kind: monaco.languages.CompletionItemKind.Constant, insertText: 'True', documentation: 'Boolean true value' },
          { label: 'False', kind: monaco.languages.CompletionItemKind.Constant, insertText: 'False', documentation: 'Boolean false value' },
          { label: 'None', kind: monaco.languages.CompletionItemKind.Constant, insertText: 'None', documentation: 'Null value' }
        ]
      };
    }
  });
});
</script>
</head>
<body>
  <div id="container"></div>
</body>
</html>